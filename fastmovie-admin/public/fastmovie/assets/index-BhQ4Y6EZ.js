import{d as R,Y as U,r as p,z,w as x,j as m,k as b,l as t,m as o,s as n,q as W,a8 as A,t as k,K as q,f as O,I as P,C as j,ac as G,e as K,h as v,ad as Y,u as _,ay as H}from"./vendor-CvgTi-PR.js";import{_ as J}from"./index-CuGL_0bL.js";import{I as L}from"./icon-batch-CDZuWdJy.js";import{a as M,u as y,c as Q,r as T,_ as X}from"./index-Bz1vQmFt.js";import"./index-DZvSei_G.js";import"./icon-points-BeKO5xwu.js";import"./usePush-CQ3BxbHW.js";const Z={class:"control-layouts"},ee={class:"control-layouts-header"},oe={class:"flex-1"},te={class:"control-layouts-header-logo"},ne={class:"flex flex-column"},ae={class:"control-layouts-header-logo-text"},se={class:"h10 text-secondary"},le={class:"flex-1 flex flex-center"},re={class:"flex-1 flex flex-x-flex-end flex-y-center"},de={class:"flex flex-column grid-gap-2"},ue=R({__name:"index",setup(ie){const u=U(),h=M(),{WEBCONFIG:w}=y(h),C=Q(),{USERINFO:f}=y(C),r=p({}),B=d=>{r.value=d},F=z({color:"rgba(255,255,255,0.03)",fontSize:16,fontWeight:600,fontFamily:"Arial, sans-serif"}),l=p(u.name||"generate-drama");x(l,d=>{T.push({name:d,params:{...u.params}})}),x(()=>u.path,()=>{l.value=u.name});const s=p();return(d,e)=>{const E=m("Back"),i=W,I=A,S=q,$=J,c=j,V=G,g=m("Download"),N=m("router-view"),D=H;return v(),b("div",Z,[t("div",ee,[t("div",oe,[t("div",te,[o(i,{class:"rounded-4 pointer",size:"24",title:"返回选集目录",onClick:e[0]||(e[0]=a=>d.$router.push(`/works/${r.value.id}`)),style:{width:"40px",height:"40px","background-color":"var(--el-fill-color-dark)"}},{default:n(()=>[o(E)]),_:1}),o(I,{src:r.value.cover,fit:"contain",size:40,shape:"square",class:"bg-overlay"},null,8,["src"]),t("div",ne,[t("span",ae,k(r.value.title),1),t("span",se,"共 "+k(r.value.episode_num)+" 集",1)])])]),t("div",le,[o(S,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a),options:[{label:"剧本调整",value:"generate-drama"},{label:"角色演员",value:"generate-actors"},{label:"物品道具",value:"generate-props"},{label:"场景绘制",value:"generate-scene"},{label:"分镜画面",value:"generate-storyboard"}],class:"tabs-segmented border"},null,8,["modelValue"])]),t("div",re,[o($,{"show-menu":l.value==="generate-storyboard"?["points","helper"]:[]},null,8,["show-menu"]),l.value==="generate-storyboard"?(v(),b(P,{key:0},[o(V,{placement:"bottom-end",width:"fit-content","popper-class":"episode-popover"},{reference:n(()=>[o(c,{bg:"",text:""},{default:n(()=>[o(i,null,{default:n(()=>[o(L)]),_:1}),e[8]||(e[8]=t("span",null,"批量生成",-1))]),_:1})]),default:n(()=>[t("div",de,[t("div",{class:"p-4 hover-bg-overlay pointer rounded-4",onClick:e[2]||(e[2]=a=>s.value?.BatchImage?.())}," 批量生成图片"),t("div",{class:"p-4 hover-bg-overlay pointer rounded-4",onClick:e[3]||(e[3]=a=>s.value?.BatchVideo?.())}," 批量生成视频"),t("div",{class:"p-4 hover-bg-overlay pointer rounded-4",onClick:e[4]||(e[4]=a=>s.value?.BatchAudio?.())}," 批量生成配音"),t("div",{class:"p-4 hover-bg-overlay pointer rounded-4",onClick:e[5]||(e[5]=a=>s.value?.BatchNarration?.())}," 批量生成旁白")])]),_:1}),o(c,{type:"success",bg:"",text:"",onClick:e[6]||(e[6]=a=>s.value?.downloadPackage?.())},{default:n(()=>[o(i,null,{default:n(()=>[o(g)]),_:1}),e[9]||(e[9]=t("span",null,"打包下载",-1))]),_:1}),o(c,{color:"#FFFFFF",onClick:e[7]||(e[7]=a=>s.value?.compsite?.())},{default:n(()=>[o(i,null,{default:n(()=>[o(g)]),_:1}),e[10]||(e[10]=t("span",null,"导出视频",-1))]),_:1})],64)):O("",!0)])]),o(D,{font:F,content:[_(w)?.web_name,_(f)?.nickname,_(f)?.mobile]},{default:n(()=>[o(N,null,{default:n(({Component:a})=>[(v(),K(Y(a),{ref_key:"generateRef",ref:s,"onUpdate:drama":B},null,544))]),_:1})]),_:1},8,["font","content"])])}}}),xe=X(ue,[["__scopeId","data-v-42517ee8"]]);export{xe as default};
