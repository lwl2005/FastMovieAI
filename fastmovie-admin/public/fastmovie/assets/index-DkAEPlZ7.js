import{d as X,r as p,e as v,s as r,l as t,k as m,h as i,I as $,M as u0,u as o,ae as D,p as m0,t as f,af as f0,ab as j,G as N0,w as A0,z as K0,o as G0,a as J0,j as A,m as n,P as O0,q as X0,ac as j0,K as q0,a6 as H0,f as K,a7 as W0,ag as Y0,B as e1,ah as t1,g as o1,C as l1,x as G,J as p0,S as s1,ai as a1,E as S,O as c0}from"./vendor-t8h0TCfL.js";import{I as n1,_ as r1,a as i1}from"./usePoints-C21LjXJs.js";import{I as d1,_ as p1,a as c1}from"./icon-style-DNHHFpUS.js";import{_ as u1}from"./index-BFBlsriZ.js";import{_ as V,c as m1,u as f1,b as _1,$ as M,f as g1,r as J,d as v1,R as O,e as C1}from"./index-B0RNcuq8.js";import{u as L1}from"./usePush-v4t_r-_Z.js";import{D as x1}from"./drama-DPzQfD5d.js";import{u as h1}from"./useLoading-Di0R6Cv8.js";import"./icon-points-01HE_Clx.js";import"./xl-actor-create-BekV8bjq.js";import"./icon-image-BfHAjLRU.js";const w1={class:"flex flex-center grid-gap-2 input-button px-6"},Q1={class:"h10 font-weight-600 text-episode-sum"},y1={class:"grid-columns-4 grid-gap-4 text-center mt-4"},b1=["onClick"],k1={class:"font-weight-600"},S1=X({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(w,{emit:c}){const L=w,y=c,Q=C=>{y("update:modelValue",C)},s=p([60,90,120,150,180,210,240,270,300]);return(C,d)=>{const b=j;return i(),v(b,{trigger:"click","show-arrow":!1,placement:"bottom-start",width:"fit-content","popper-class":"model-popover"},{reference:r(()=>[f0(C.$slots,"default",{},()=>[t("div",w1,[d[0]||(d[0]=t("span",null,"每集时长",-1)),t("span",Q1,f(L.modelValue),1),d[1]||(d[1]=t("span",null,"秒",-1))])],!0)]),default:r(()=>[d[2]||(d[2]=t("span",{class:"h10"},"选择每集时长",-1)),t("div",y1,[(i(!0),m($,null,u0(o(s),u=>(i(),m("div",{class:m0(["grid-column-2 input-button rounded-4 p-4",{active:L.modelValue===u}]),key:u,onClick:D(x=>Q(u),["stop"])},[t("span",k1,f(u)+"秒",1)],10,b1))),128))])]),_:3})}}}),M1=V(S1,[["__scopeId","data-v-56bc54db"]]),V1={class:"flex flex-center grid-gap-2 input-button px-6"},Z1={class:"h10 font-weight-600 text-episode-sum"},$1={class:"grid-columns-4 grid-gap-4 text-center mt-4"},E1=["onClick"],U1={class:"font-weight-600"},R1=X({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(w,{emit:c}){const L=w,y=c,Q=C=>{y("update:modelValue",C)},s=p([20,40,60,80,100,150,200,300,400,500]);return(C,d)=>{const b=j;return i(),v(b,{trigger:"click","show-arrow":!1,placement:"bottom-start",width:"fit-content","popper-class":"model-popover"},{reference:r(()=>[f0(C.$slots,"default",{},()=>[t("div",V1,[d[0]||(d[0]=t("span",null,"全",-1)),t("span",Z1,f(L.modelValue),1),d[1]||(d[1]=t("span",null,"集",-1))])],!0)]),default:r(()=>[d[2]||(d[2]=t("span",{class:"h10"},"选择集数",-1)),t("div",$1,[(i(!0),m($,null,u0(o(s),u=>(i(),m("div",{class:m0(["grid-column-2 input-button rounded-4 p-4",{active:L.modelValue===u}]),key:u,onClick:D(x=>Q(u),["stop"])},[t("span",U1,f(u),1)],10,E1))),128))])]),_:3})}}}),B1=V(R1,[["__scopeId","data-v-4f538532"]]),z1={},F1={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",fill:"currentColor",version:"1.1",width:"16",height:"16",viewBox:"0 0 16 16"};function I1(w,c){return i(),m("svg",F1,[...c[0]||(c[0]=[N0('<g><g><g transform="matrix(0,-1,1,0,-5.38459587097168,15.999979019165039)"><path d="M12.68843937409668,10.84999904506836C12.47815987409668,10.639716912068359,12.13722037409668,10.639716912068359,11.92694087409668,10.84999904506836C11.716659974096679,11.060281185068359,11.716659974096679,11.40121638506836,11.92694087409668,11.611498475068359C11.92694087409668,11.611498475068359,12.68843937409668,10.84999904506836,12.68843937409668,10.84999904506836C12.68843937409668,10.84999904506836,12.68843937409668,10.84999904506836,12.68843937409668,10.84999904506836ZM14.46153547409668,13.38459494506836C14.46153547409668,13.38459494506836,14.84226417409668,13.76534464506836,14.84226417409668,13.76534464506836C15.052551274096679,13.555064445068359,15.052551274096679,13.214125145068358,14.84226417409668,13.003844945068359C14.84226417409668,13.003844945068359,14.46153547409668,13.38459494506836,14.46153547409668,13.38459494506836C14.46153547409668,13.38459494506836,14.46153547409668,13.38459494506836,14.46153547409668,13.38459494506836ZM11.92694087409668,15.157691445068359C11.716659974096679,15.36797144506836,11.716659974096679,15.708910445068359,11.92694087409668,15.91919044506836C12.13722037409668,16.12947084506836,12.47815987409668,16.12947084506836,12.68843937409668,15.91919044506836C12.68843937409668,15.91919044506836,11.92694087409668,15.157691445068359,11.92694087409668,15.157691445068359C11.92694087409668,15.157691445068359,11.92694087409668,15.157691445068359,11.92694087409668,15.157691445068359ZM5.84615296409668,12.846133245068359C5.54876865409668,12.846133245068359,5.30769157409668,13.087213245068359,5.30769157409668,13.38459494506836C5.30769157409668,13.68197634506836,5.54876865409668,13.92305614506836,5.84615296409668,13.92305614506836C5.84615296409668,13.92305614506836,5.84615296409668,12.846133245068359,5.84615296409668,12.846133245068359C5.84615296409668,12.846133245068359,5.84615296409668,12.846133245068359,5.84615296409668,12.846133245068359ZM11.92694087409668,11.611498475068359C11.92694087409668,11.611498475068359,14.080807674096679,13.76534464506836,14.080807674096679,13.76534464506836C14.080807674096679,13.76534464506836,14.84226417409668,13.003844945068359,14.84226417409668,13.003844945068359C14.84226417409668,13.003844945068359,12.68843937409668,10.84999904506836,12.68843937409668,10.84999904506836C12.68843937409668,10.84999904506836,11.92694087409668,11.611498475068359,11.92694087409668,11.611498475068359C11.92694087409668,11.611498475068359,11.92694087409668,11.611498475068359,11.92694087409668,11.611498475068359ZM14.080807674096679,13.003844945068359C14.080807674096679,13.003844945068359,11.92694087409668,15.157691445068359,11.92694087409668,15.157691445068359C11.92694087409668,15.157691445068359,12.68843937409668,15.91919044506836,12.68843937409668,15.91919044506836C12.68843937409668,15.91919044506836,14.84226417409668,13.76534464506836,14.84226417409668,13.76534464506836C14.84226417409668,13.76534464506836,14.080807674096679,13.003844945068359,14.080807674096679,13.003844945068359C14.080807674096679,13.003844945068359,14.080807674096679,13.003844945068359,14.080807674096679,13.003844945068359ZM14.46153547409668,12.846133245068359C14.46153547409668,12.846133245068359,5.84615296409668,12.846133245068359,5.84615296409668,12.846133245068359C5.84615296409668,12.846133245068359,5.84615296409668,13.92305614506836,5.84615296409668,13.92305614506836C5.84615296409668,13.92305614506836,14.46153547409668,13.92305614506836,14.46153547409668,13.92305614506836C14.46153547409668,13.92305614506836,14.46153547409668,12.846133245068359,14.46153547409668,12.846133245068359C14.46153547409668,12.846133245068359,14.46153547409668,12.846133245068359,14.46153547409668,12.846133245068359Z" fill="currentColor" fill-opacity="1"></path><path d="M14.834766374096679,13.15276814506836L14.602952974096679,13.38459464506836L14.834766374096679,13.61642174506836Q14.899980574096679,13.514014445068359,14.899980574096679,13.38459494506836Q14.899980574096679,13.25517554506836,14.834766374096679,13.15276814506836ZM14.70084567409668,13.76534274506836L14.56153587409668,13.626025245068359L14.56153587409668,13.904653745068359L14.70084567409668,13.76534274506836ZM14.44313427409668,14.023056245068359L13.20300917409668,14.023056245068359L12.06836317409668,15.15769244506836L12.68843937409668,15.77776864506836L14.44313427409668,14.023056245068359ZM12.53951787409668,15.911689745068358L11.93444207409668,15.30661394506836Q11.86923077409668,15.40902094506836,11.86923077409668,15.53844164506836Q11.86923077409668,15.72005894506836,11.99765207409668,15.848480245068359Q12.126071974096678,15.97690104506836,12.307690574096679,15.97690104506836Q12.43711087409668,15.97690104506836,12.53951787409668,15.911689745068358ZM12.920165574096679,14.023056245068359L5.84615296409668,14.023056245068359Q5.58169385409668,14.023056245068359,5.39469236109668,13.836054045068359Q5.20769156409668,13.64905284506836,5.20769156409668,13.38459514506836Q5.207691544096679,13.12013724506836,5.39469230909668,12.93313554506836Q5.58169373409668,12.746133345068358,5.84615296409668,12.746133345068358L12.92016507409668,12.746133345068358L11.85623117409668,11.68220949506836Q11.669230474096679,11.495207905068359,11.669230474096679,11.23074877506836Q11.669230474096679,10.96628975506836,11.85623077409668,10.779288582068359Q12.04322907409668,10.59228746606836,12.307690574096679,10.592287435068359Q12.57215217409668,10.592287435068359,12.75915097409668,10.779288754068359L14.912975274096679,12.93313474506836Q15.09998037409668,13.12013314506836,15.09998037409668,13.38459494506836Q15.09998037409668,13.64905664506836,14.91297337409668,13.83605674506836L12.75915097409668,15.989900545068359Q12.57215167409668,16.17690134506836,12.307690574096679,16.17690134506836Q12.04322957409668,16.17690134506836,11.85623077409668,15.989900545068359Q11.669230474096679,15.80290224506836,11.669230474096679,15.53844164506836Q11.669230474096679,15.273980145068359,11.85623077409668,15.08698134506836L12.920165574096679,14.023056245068359ZM13.403011274096679,13.82305624506836L13.997097974096679,13.82305624506836L13.70005417409668,13.52601554506836L13.403011274096679,13.82305624506836ZM13.558632874096679,13.38459494506836L13.12016727409668,13.82305624506836L5.946152984096679,13.82305624506836L5.946152984096679,12.94613334506836L13.12016677409668,12.94613334506836L13.558632874096679,13.38459494506836ZM13.70005417409668,13.24317434506836L13.403010374096679,12.94613334506836L13.997097974096679,12.94613334506836L13.70005417409668,13.24317434506836ZM13.84147647409668,13.38459494506836L14.08080577409668,13.62392214506836L14.32011887409668,13.38459494506836L14.08080577409668,13.14526774506836L13.84147647409668,13.38459494506836ZM14.36153607409668,13.62602594506836L14.164517374096679,13.82305624506836L14.36153607409668,13.82305624506836L14.36153607409668,13.62602594506836ZM14.36153607409668,13.14316344506836L14.36153607409668,12.94613334506836L14.164517374096679,12.94613334506836L14.36153607409668,13.14316344506836ZM13.20300867409668,12.746133345068358L14.44313427409668,12.746133345068358L12.68843937409668,10.991420835068359L12.06836267409668,11.611498175068359L13.20300867409668,12.746133345068358ZM11.93444247409668,11.46257621506836L12.53951787409668,10.85749959506836Q12.43711087409668,10.79228745506836,12.307690574096679,10.79228745506836Q12.12607287409668,10.79228745506836,11.99765207409668,10.920709525068359Q11.86923077409668,11.04913187506836,11.86923077409668,11.23074877506836Q11.86923077409668,11.360168335068359,11.93444247409668,11.46257621506836ZM14.56153587409668,12.864536045068359L14.56153587409668,13.14316464506836L14.70084567409668,13.00384714506836L14.56153587409668,12.864536045068359ZM5.746152964096679,12.956741045068359L5.746152964096679,13.81244854506836Q5.62762770409668,13.786147145068359,5.536113944096679,13.69463324506836Q5.407691584096679,13.566210245068358,5.407691584096679,13.38459514506836Q5.407691553096679,13.20297954506836,5.53611400409668,13.07455654506836Q5.6276277940966795,12.98304244506836,5.746152964096679,12.956741045068359Z" fill-rule="evenodd" fill="currentColor" fill-opacity="1"></path></g><g transform="matrix(0,-1,1,0,-13.999979019165039,15.999979019165039)"><path d="M9.6153822,18.76920961916504C9.6153822,19.06659121916504,9.8564692,19.30767111916504,10.1538439,19.30767111916504C10.4512167,19.30767111916504,10.6923046,19.06659121916504,10.6923046,18.76920961916504C10.6923046,18.76920961916504,9.6153822,18.76920961916504,9.6153822,18.76920961916504C9.6153822,18.76920961916504,9.6153822,18.76920961916504,9.6153822,18.76920961916504ZM10.6923046,25.230747019165037C10.6923046,24.933373419165036,10.4512167,24.692286519165037,10.1538439,24.692286519165037C9.8564692,24.692286519165037,9.6153822,24.933373419165036,9.6153822,25.230747019165037C9.6153822,25.230747019165037,10.6923046,25.230747019165037,10.6923046,25.230747019165037C10.6923046,25.230747019165037,10.6923046,25.230747019165037,10.6923046,25.230747019165037ZM10.6923046,18.76920961916504C10.6923046,18.76920961916504,10.6923046,18.410235119165037,10.6923046,18.410235119165037C10.6923046,18.410235119165037,9.6153822,18.410235119165037,9.6153822,18.410235119165037C9.6153822,18.410235119165037,9.6153822,18.76920961916504,9.6153822,18.76920961916504C9.6153822,18.76920961916504,10.6923046,18.76920961916504,10.6923046,18.76920961916504C10.6923046,18.76920961916504,10.6923046,18.76920961916504,10.6923046,18.76920961916504ZM7.2820492,14.999979019165039C7.2820492,14.999979019165039,4.4102554000000005,14.999979019165039,4.4102554000000005,14.999979019165039C4.4102554000000005,14.999979019165039,4.4102554000000005,16.07690201916504,4.4102554000000005,16.07690201916504C4.4102554000000005,16.07690201916504,7.2820492,16.07690201916504,7.2820492,16.07690201916504C7.2820492,16.07690201916504,7.2820492,14.999979019165039,7.2820492,14.999979019165039C7.2820492,14.999979019165039,7.2820492,14.999979019165039,7.2820492,14.999979019165039ZM1,18.410235119165037C1,18.410235119165037,1,25.58972301916504,1,25.58972301916504C1,25.58972301916504,2.0769228,25.58972301916504,2.0769228,25.58972301916504C2.0769228,25.58972301916504,2.0769228,18.410235119165037,2.0769228,18.410235119165037C2.0769228,18.410235119165037,1,18.410235119165037,1,18.410235119165037C1,18.410235119165037,1,18.410235119165037,1,18.410235119165037ZM4.4102554000000005,28.99997901916504C4.4102554000000005,28.99997901916504,7.2820492,28.99997901916504,7.2820492,28.99997901916504C7.2820492,28.99997901916504,7.2820492,27.92305601916504,7.2820492,27.92305601916504C7.2820492,27.92305601916504,4.4102554000000005,27.92305601916504,4.4102554000000005,27.92305601916504C4.4102554000000005,27.92305601916504,4.4102554000000005,28.99997901916504,4.4102554000000005,28.99997901916504C4.4102554000000005,28.99997901916504,4.4102554000000005,28.99997901916504,4.4102554000000005,28.99997901916504ZM10.6923046,25.58972301916504C10.6923046,25.58972301916504,10.6923046,25.230747019165037,10.6923046,25.230747019165037C10.6923046,25.230747019165037,9.6153822,25.230747019165037,9.6153822,25.230747019165037C9.6153822,25.230747019165037,9.6153822,25.58972301916504,9.6153822,25.58972301916504C9.6153822,25.58972301916504,10.6923046,25.58972301916504,10.6923046,25.58972301916504C10.6923046,25.58972301916504,10.6923046,25.58972301916504,10.6923046,25.58972301916504ZM7.2820492,28.99997901916504C9.1655149,28.99997901916504,10.6923046,27.47318801916504,10.6923046,25.58972301916504C10.6923046,25.58972301916504,9.6153822,25.58972301916504,9.6153822,25.58972301916504C9.6153822,26.878368019165038,8.5707169,27.92305601916504,7.2820492,27.92305601916504C7.2820492,27.92305601916504,7.2820492,28.99997901916504,7.2820492,28.99997901916504C7.2820492,28.99997901916504,7.2820492,28.99997901916504,7.2820492,28.99997901916504ZM1,25.58972301916504C1,27.47318801916504,2.5268253,28.99997901916504,4.4102554000000005,28.99997901916504C4.4102554000000005,28.99997901916504,4.4102554000000005,27.92305601916504,4.4102554000000005,27.92305601916504C3.121588,27.92305601916504,2.0769228,26.878368019165038,2.0769228,25.58972301916504C2.0769228,25.58972301916504,1,25.58972301916504,1,25.58972301916504C1,25.58972301916504,1,25.58972301916504,1,25.58972301916504ZM4.4102554000000005,14.999979019165039C2.5268253,14.999979019165039,1,16.52680471916504,1,18.410235119165037C1,18.410235119165037,2.0769228,18.410235119165037,2.0769228,18.410235119165037C2.0769228,17.12156751916504,3.121588,16.07690201916504,4.4102554000000005,16.07690201916504C4.4102554000000005,16.07690201916504,4.4102554000000005,14.999979019165039,4.4102554000000005,14.999979019165039C4.4102554000000005,14.999979019165039,4.4102554000000005,14.999979019165039,4.4102554000000005,14.999979019165039ZM10.6923046,18.410235119165037C10.6923046,16.52680471916504,9.1655149,14.999979019165039,7.2820492,14.999979019165039C7.2820492,14.999979019165039,7.2820492,16.07690201916504,7.2820492,16.07690201916504C8.5707169,16.07690201916504,9.6153822,17.12156751916504,9.6153822,18.410235119165037C9.6153822,18.410235119165037,10.6923046,18.410235119165037,10.6923046,18.410235119165037C10.6923046,18.410235119165037,10.6923046,18.410235119165037,10.6923046,18.410235119165037Z" fill="currentColor" fill-opacity="1"></path><path d="M9.5153828,25.230747019165037L9.5153828,25.58972401916504Q9.5153828,26.514791019165038,8.8612556,27.16892101916504Q8.2071261,27.823056019165037,7.2820511,27.823056019165037L4.4102557000000004,27.823056019165037Q3.4851797,27.823056019165037,2.8310497999999997,27.16892101916504Q2.1769229,26.514791019165038,2.1769232,25.58972401916504L2.1769228,18.41023541916504Q2.1769228,17.48515631916504,2.8310497,16.83102891916504Q3.4851766,16.176902019165038,4.4102557000000004,16.17690191916504L7.2820492,16.176902019165038Q8.2071295,16.176902019165038,8.8612556,16.83102891916504Q9.5153828,17.48515581916504,9.5153828,18.41023561916504L9.5153828,18.769209819165038Q9.5153828,19.03366611916504,9.7023878,19.220669719165038Q9.8893919,19.40767101916504,10.1538448,19.40767101916504Q10.4182959,19.40767101916504,10.605299,19.220669719165038Q10.792305,19.03366561916504,10.792305,18.769209819165038L10.792305,18.41023541916504Q10.792305,16.95623481916504,9.7641878,15.92811023916504Q8.7360644,14.899978879165038,7.2820487,14.89997875916504L4.4102557000000004,14.899979009165039Q2.9562613,14.899979009165039,1.9281306900000001,15.92810999916504Q0.89999986,16.95624111916504,0.89999974,18.41023541916504L0.89999999,25.58972401916504Q0.89999999,27.04373801916504,1.92813104,28.07186301916504Q2.9562552,29.09997901916504,4.4102557000000004,29.09997901916504L7.2820492,29.09997901916504Q8.7360697,29.09997901916504,9.7641869,28.07186201916504Q10.792305,27.04374401916504,10.792305,25.58972401916504L10.792305,25.230747019165037Q10.792305,24.96629711916504,10.605299,24.77929211916504Q10.4182949,24.59228701916504,10.1538448,24.59228701916504Q9.8893919,24.59228701916504,9.7023878,24.77929021916504Q9.5153828,24.966296219165038,9.5153828,25.230747019165037ZM4.5102556,15.97690194916504L7.1820493,15.976902069165039L7.1820493,15.09997877516504L4.5102556,15.099979019165039L4.5102556,15.97690194916504ZM4.3102555,15.101282249165038L4.3102555,15.97868179916504Q3.3667178,16.01251801916504,2.6896281,16.68960771916504Q2.0125386,17.36669751916504,1.9787026,18.31023551916504L1.10130297,18.31023551916504Q1.13554603,17.00353741916504,2.0695521,16.06953131916504Q3.0035579,15.13552532916504,4.3102555,15.101282249165038ZM1.099999748,18.51023531916504L1.97692281,18.51023531916504L1.97692317,25.48972301916504L1.10000001,25.48972301916504L1.099999748,18.51023531916504ZM1.1013032,25.68972401916504Q1.13554589,26.99644001916504,2.0695519,27.93044001916504Q3.0035529,28.86443401916504,4.3102555,28.89867701916504L4.3102555,28.02127601916504Q3.3667214,27.98744001916504,2.689628,27.31034301916504Q2.0125394,26.63324901916504,1.97870302,25.68972401916504L1.1013032,25.68972401916504ZM4.5102556,28.02305601916504L4.5102556,28.89998001916504L7.1820493,28.89998001916504L7.1820493,28.02305601916504L4.5102556,28.02305601916504ZM7.3820496,28.02127601916504L7.3820496,28.89867701916504Q8.6887732,28.86443501916504,9.6227665,27.930441019165038Q10.5567608,26.996448019165037,10.5910025,25.68972401916504L9.713603,25.68972401916504Q9.6797667,26.633248019165038,9.002677,27.31034301916504Q8.3255844,27.98744001916504,7.3820496,28.02127601916504ZM9.7153826,25.48972301916504L10.5923052,25.48972301916504L10.5923052,25.33074801916504L9.7153826,25.33074801916504L9.7153826,25.48972301916504ZM9.7259912,25.13074801916504L10.5816965,25.13074801916504Q10.5553942,25.01222701916504,10.4638786,24.92071251916504Q10.335454,24.79228691916504,10.1538448,24.79228691916504Q9.9722347,24.79228691916504,9.8438082,24.92071341916504Q9.7522936,25.01222801916504,9.7259912,25.13074801916504ZM7.3820496,15.101281979165039L7.3820496,15.978681919165039Q8.3255877,16.01251801916504,9.002677,16.68960771916504Q9.6797667,17.366697319165038,9.713603,18.31023551916504L10.5910025,18.31023551916504Q10.5567598,17.00353241916504,9.6227655,16.06953111916504Q8.6887665,15.135524929165038,7.3820496,15.101281979165039ZM10.5923052,18.51023531916504L9.7153826,18.51023531916504L9.7153826,18.669209919165038L10.5923052,18.669209919165038L10.5923052,18.51023531916504ZM10.5816965,18.86920971916504L9.7259912,18.86920971916504Q9.7522936,18.987733319165038,9.8438082,19.07924751916504Q9.9722338,19.207671119165038,10.1538448,19.207671119165038Q10.335454,19.207671119165038,10.4638786,19.07924751916504Q10.5553942,18.987733319165038,10.5816965,18.86920971916504Z" fill-rule="evenodd" fill="currentColor" fill-opacity="1"></path></g></g></g>',1)])])}const P1=V(z1,[["render",I1]]),D1={},T1={t:"1767148233877",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"15934",width:"48",height:"48"};function N1(w,c){return i(),m("svg",T1,[...c[0]||(c[0]=[t("path",{d:"M506.102 32c-192 0-358.4 115.2-435.2 288s-38.4 371.2 89.6 512 326.4 185.6 505.6 128c12.8-6.4 25.6-6.4 32-12.8l19.2-19.2c6.4-6.4 6.4-12.8 0-25.6l-6.4-6.4c-6.4-12.8-25.6-19.2-44.8-12.8-6.4 6.4-12.8 6.4-19.2 6.4-211.2 76.8-441.6-38.4-518.4-249.6s38.4-441.6 249.6-518.4 441.6 38.4 518.4 249.6c12.8 44.8 19.2 89.6 19.2 134.4 0 51.2-12.8 102.4-38.4 147.2-12.8 32-44.8 51.2-76.8 57.6-44.8 0-83.2-70.4-83.2-185.6V326.4c0-6.4 0-12.8-6.4-12.8-6.4-6.4-12.8-6.4-25.6-6.4h-12.8c-6.4 0-12.8 0-19.2 6.4v44.8c-38.4-38.4-89.6-57.6-140.8-64-128 6.4-224 115.2-217.6 236.8 0 134.4 89.6 243.2 204.8 243.2 70.4 0 134.4-38.4 172.8-96 12.8 57.6 64 96 115.2 96 38.4 0 76.8-19.2 102.4-44.8 57.6-57.6 89.6-140.8 83.2-224 0-128-51.2-249.6-140.8-339.2S627.702 32 506.102 32z m140.8 505.6c0 96-64 179.2-140.8 179.2s-140.8-76.8-140.8-179.2 57.6-179.2 134.4-179.2 147.2 83.2 147.2 179.2z","p-id":"15935"},null,-1)])])}const A1=V(D1,[["render",N1]]),K1={},G1={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",fill:"currentColor",version:"1.1",width:"22",height:"22",viewBox:"0 0 22 22"};function J1(w,c){return i(),m("svg",G1,[...c[0]||(c[0]=[t("defs",null,[t("clipPath",{id:"master_svg0_88_07069"},[t("rect",{x:"0",y:"0",width:"22",height:"22",rx:"0"})])],-1),t("g",{"clip-path":"url(#master_svg0_88_07069)"},[t("g",null,[t("path",{d:"M14.666667,1.833343505859375L19.25,6.416676005859375L19.25,19.257341505859376C19.249495,19.759700505859374,18.84211,20.166675505859374,18.339750000000002,20.166675505859374L3.66024995,20.166675505859374C3.15934232,20.163185505859374,2.7539945543,19.758245505859374,2.75,19.257341505859376L2.75,2.742676735859375C2.75,2.240343515859375,3.15791661,1.833343505859375,3.66024995,1.833343505859375L14.666667,1.833343505859375ZM13.75,10.694759405859376L9.278500099999999,7.712843905859375C9.165957500000001,7.637757805859375,9.0212121,7.630745905859375,8.901938900000001,7.694601105859375C8.7826653,7.758456205859375,8.7082458,7.882803005859375,8.7083335,8.018094105859376L8.7083335,13.981011505859374C8.7082462,14.116302505859375,8.782666200000001,14.240649505859375,8.9019394,14.304504505859375C9.0212131,14.368359505859376,9.165957500000001,14.361348505859375,9.278500099999999,14.286261505859375L13.75,11.305259705859376C13.967056,11.159637405859375,13.967056,10.840380705859374,13.75,10.694759405859376Z",fill:"currentColor","fill-opacity":"1"})])],-1)])])}const O1=V(K1,[["render",J1]]),X1={class:"flex flex-column flex-center px-10 page-layouts grid-gap-6"},j1={class:"flex flex-center grid-gap-2"},q1={class:"input-box"},H1={class:"rounded-4 p-4 input-bg"},W1={class:"flex-1 flex flex-column"},Y1={class:"text-secondary h10"},e6={class:"flex-1 flex flex-column"},t6={class:"flex grid-gap-4 flex-center mt-4"},o6={key:1,class:"flex flex-center grid-gap-1"},l6={class:"h10 text-ellipsis-1"},s6={key:1,class:"flex flex-center grid-gap-1"},a6={class:"h10 text-ellipsis-1"},n6={key:1,class:"flex flex-column flex-center grid-gap-2 py-6 bg mb-4 rounded-4"},r6={class:"h1"},i6=X({__name:"index",setup(w){const c=m1(),{USERINFO:L}=f1(c);A0(L,()=>{H()});const y=_1(),Q=v1(),s=K0({model:"",script:"drama",title:"",cover:"",description:"",import:"",prompt:"",style:"",aspect_ratio:"9:16",episode_sum:20,episode_duration:60}),C=p([]),d=p(!1),b=p();let u=null,x=!1;const _0=C1((l,e)=>{d.value=!0,u&&u.abort();let _="/app/shortplay/api/Actor/index";e==="#"&&(_="/app/shortplay/api/Prop/index"),u=new AbortController,M.get(_,{params:{name:l,limit:100},signal:u.signal}).then(I=>{I.code===O.SUCCESS&&c0(()=>{C.value=I.data.map(g=>({...g,view:e==="@"?"actor":"prop",label:`${g.name}{${e==="@"?g.actor_id:g.prop_id}}`,value:`${g.name}{${e==="@"?g.actor_id:g.prop_id}}`}))})}).catch(()=>{}).finally(()=>{d.value=!1,u=null})},300),g0=(l,e)=>{x=!0,_0(l,e)},v0=["@","#"],C0=l=>{l instanceof KeyboardEvent&&(!l.shiftKey&&l.code==="Enter"&&!x?(l.preventDefault(),l.stopPropagation(),s.script==="script"?U():y0()):!l.shiftKey&&l.code==="Enter"&&x?(l.preventDefault(),l.stopPropagation()):(l.code==="Space"||l.code==="Escape")&&(x=!1))},L0=()=>{x=!1},x0=l=>(x=!1,l.trim().split(`
`).length===1),{subscribe:h0,unsubscribeAll:w0}=L1();let q=[];const H=()=>{c.hasLogin()&&h0("private-generatecreatedrama-"+L.value?.user,l=>{q.includes(l.uuid)&&(E.close(),l.drama_id?(S.success(l.msg),J.push("/works/"+l.drama_id)):S.error(l.msg))})},E=h1({title:"剧本创作中，预计3-5分钟~",tips:"退出页面，剧本会继续生成",auto:!0,list:[{title:"解析剧本中...",start:0,end:20,progress:20},{title:"正在创作剧本卖点...",start:20,end:25,progress:10},{title:"正在创作剧本爽点...",start:25,end:30,progress:10},{title:"正在创作剧本主线...",start:30,end:35,progress:10},{title:"正在创作剧本关系...",start:35,end:40,progress:10},{title:"正在创作剧本描述...",start:40,end:45,progress:10},{title:"正在创作剧本背景...",start:45,end:50,progress:10},{title:"正在创作剧本大纲...",start:50,end:9999,progress:20}],showCancelButton:!0,showConfirmButton:!0,cancelButtonText:"返回首页",confirmButtonText:"去作品广场",confirmButtonClick:()=>{E.close(),J.push("/square")},cancelButtonClick:()=>{E.close()}}),Q0=()=>{s.model="",s.script="script",s.title="",s.cover="",s.description="",s.import="",s.prompt="",s.style="",s.aspect_ratio="9:16",s.episode_sum=20,s.episode_duration=60,h.value={id:""},k.value={id:""}},U=()=>{if(!c.hasLogin())return Q.open();d.value||(d.value=!0,M.post("app/shortplay/api/Index/submit",{...s}).then(l=>{l.code===O.SUCCESS?(Q0(),l.data.drama_id?J.push("/works/"+l.data.drama_id):(E.open(),q.push(l.data.uuid))):S.error(l.msg)}).catch(()=>{S.error("提交失败")}).finally(()=>{d.value=!1}))},y0=()=>{if(!c.hasLogin())return Q.open();if(!s.style){S.error("请选择风格");return}Z.value=!0},W=p(),Y=p(),e0=p(),t0=p(),b0=l=>{s.prompt+=` @${l.name}{${l.actor_id}} `,Y.value?.hide(),c0(()=>{b.value?.input?.ref?.focus()})},h=p({id:""}),k0=l=>{h.value=l,t0.value?.hide()},R=p(),B=p(),o0=()=>c.hasLogin()?!0:(R.value?.clearFiles(),B.value?.clearFiles(),Q.open(),!1),z=p({}),T=p({}),l0=l=>{if(l.code===O.SUCCESS)switch(l.data.dir_name){case"drama/cover":s.cover=l.data.url,T.value=l.data,B.value?.clearFiles();break;case"drama/content":s.import=l.data.url,z.value=l.data,R.value?.clearFiles();break}else S.error(l.msg)},s0=()=>{R.value?.clearFiles(),B.value?.clearFiles()},Z=p(!1),F=p(!1),a0=p(),n0=p(),k=p({}),S0=l=>{k.value=l,n0.value?.hide()},M0=l=>{switch(l){case"script":s.episode_sum=20;break;case"drama":s.episode_sum=80;break}};return G0(()=>{H()}),J0(()=>{w0()}),(l,e)=>{const _=X0,I=q0,g=W0,V0=Y0,r0=A("Close"),Z0=p1,$0=B1,E0=M1,U0=A("Loading"),R0=A("Top"),B0=u1,N=j,z0=c1,F0=r1,I0=e1,P0=o1,i0=t1,P=l1,d0=s1,D0=a1,T0=H0;return i(),m("div",X1,[e[31]||(e[31]=t("span",{class:"head-title"},"一句话生成一部短剧",-1)),e[32]||(e[32]=t("span",{class:"head-subtitle"},"剧本、分镜、画面、配音、剪辑，一站式智能生成",-1)),n(I,{modelValue:o(s).script,"onUpdate:modelValue":e[0]||(e[0]=a=>o(s).script=a),disabled:o(d),options:[{label:"剧本模式",value:"drama",icon:x1},{label:"创意模式",value:"script",icon:O1}],class:"tabs-segmented border",onChange:M0},{default:r(({item:a})=>[t("div",j1,[n(_,{size:"20"},{default:r(()=>[(i(),v(j0(a.icon)))]),_:2},1024),t("span",null,f(a.label),1)])]),_:1},8,["modelValue","disabled","options"]),O0((i(),m("div",q1,[t("div",H1,[n(V0,{ref_key:"mentionRef",ref:b,modelValue:o(s).prompt,"onUpdate:modelValue":e[1]||(e[1]=a=>o(s).prompt=a),autosize:{minRows:6,maxRows:50},"popper-class":"prompt-popper",type:"textarea",prefix:v0,placeholder:"请输入剧本创作提示词，@演员名称可以引用演员，#物品名称可以引用物品，Shift + Enter换行，Enter提交",options:o(C),loading:o(d),whole:"","check-is-whole":x0,onSearch:g0,onKeydown:C0,onSelect:L0,onFocus:e[2]||(e[2]=a=>o(y).setState("InputFocusState",!0)),onBlur:e[3]||(e[3]=a=>o(y).setState("InputFocusState",!1))},{label:r(({item:a})=>[a.view==="actor"?(i(),m($,{key:0},[n(g,{src:a.headimg,alt:a.label,size:30},null,8,["src","alt"]),t("div",W1,[t("span",null,f(a.label),1),t("span",Y1,f(a.species_type_enum?.label)+"·"+f(a.gender_enum?.label)+"·"+f(a.age_enum?.label),1)])],64)):a.view==="prop"?(i(),m($,{key:1},[n(g,{src:a.image,alt:a.label,size:30},null,8,["src","alt"]),t("div",e6,[t("span",null,f(a.label),1)])],64)):K("",!0)]),_:1},8,["modelValue","options","loading"]),t("div",t6,[t("div",{class:"flex flex-center input-button p-3",ref_key:"modelButtonRef",ref:a0},[o(s).model?(i(),m("div",o6,[n(g,{src:o(k).icon,alt:o(k).name,shape:"circle",class:"icon-model"},null,8,["src","alt"]),t("span",l6,f(o(k).name),1),n(_,{size:"16",color:"var(--el-text-color-secondary)",class:"model-item-selected-icon font-weight-600",onClick:e[4]||(e[4]=D(a=>{o(s).model="",k.value={id:""}},["stop"]))},{default:r(()=>[n(r0)]),_:1})])):(i(),v(_,{key:0,size:"20",color:"var(--el-color-white)"},{default:r(()=>[n(n1)]),_:1}))],512),t("div",{class:"flex flex-center input-button p-3",ref_key:"actorButtonRef",ref:W},[n(_,{size:"20",color:"var(--el-color-white)"},{default:r(()=>[n(A1)]),_:1})],512),t("div",{class:"flex flex-center input-button p-3",ref_key:"styleButtonRef",ref:e0},[o(h).id?(i(),m("div",s6,[n(g,{src:o(h).image,alt:o(h).name,shape:"circle",class:"icon-style"},null,8,["src","alt"]),t("span",a6,f(o(h).name),1),n(_,{size:"16",color:"var(--el-text-color-secondary)",class:"model-item-selected-icon font-weight-600",onClick:e[5]||(e[5]=D(a=>{o(h).id="",h.value={id:""}},["stop"]))},{default:r(()=>[n(r0)]),_:1})])):(i(),v(_,{key:0,size:"20",color:"var(--el-color-white)"},{default:r(()=>[n(d1)]),_:1}))],512),n(Z0,{modelValue:o(s).aspect_ratio,"onUpdate:modelValue":e[6]||(e[6]=a=>o(s).aspect_ratio=a)},null,8,["modelValue"]),o(s).script!=="script"?(i(),v($0,{key:0,modelValue:o(s).episode_sum,"onUpdate:modelValue":e[7]||(e[7]=a=>o(s).episode_sum=a)},null,8,["modelValue"])):K("",!0),o(s).script!=="script"?(i(),v(E0,{key:1,modelValue:o(s).episode_duration,"onUpdate:modelValue":e[8]||(e[8]=a=>o(s).episode_duration=a)},null,8,["modelValue"])):K("",!0),e[16]||(e[16]=t("div",{class:"flex-1"},null,-1)),t("div",{class:"flex flex-center grid-gap-2 input-button",style:{width:"40px",height:"40px"},onClick:U},[n(_,{size:"20"},{default:r(()=>[o(d)?(i(),v(U0,{key:0,class:"circular"})):(i(),v(R0,{key:1}))]),_:1})])])])])),[[T0,o(d)]]),n(N,{ref_key:"actorPopoverRef",ref:Y,"show-arrow":!1,"popper-class":"model-popover","virtual-ref":o(W),"virtual-triggering":"",placement:"bottom-start",width:"min(100vw,880px)",trigger:"click"},{default:r(()=>[n(B0,{onSelect:b0})]),_:1},8,["virtual-ref"]),n(N,{ref_key:"stylePopoverRef",ref:t0,"show-arrow":!1,"popper-class":"model-popover","virtual-ref":o(e0),"virtual-triggering":"",placement:"bottom-start",width:"min(100vw,640px)",trigger:"click"},{default:r(()=>[n(z0,{modelValue:o(s).style,"onUpdate:modelValue":e[9]||(e[9]=a=>o(s).style=a),onSelect:k0},null,8,["modelValue"])]),_:1},8,["virtual-ref"]),n(N,{ref_key:"modelPopoverRef",ref:n0,"show-arrow":!1,"popper-class":"model-popover","virtual-ref":o(a0),"virtual-triggering":"",placement:"bottom",width:"min(100vw,380px)",trigger:"click"},{default:r(()=>[n(F0,{modelValue:o(s).model,"onUpdate:modelValue":e[10]||(e[10]=a=>o(s).model=a),onSelect:S0,scene:"creative_script"},null,8,["modelValue"])]),_:1},8,["virtual-ref"]),n(d0,{modelValue:o(Z),"onUpdate:modelValue":e[13]||(e[13]=a=>p0(Z)?Z.value=a:null),class:"drama-dialog",draggable:""},{header:r(()=>[...e[17]||(e[17]=[t("span",{class:"font-weight-600"},"为短剧命名",-1)])]),footer:r(()=>[n(P,{type:"info",onClick:e[12]||(e[12]=a=>Z.value=!1),size:"large",color:"#F9F9F9"},{default:r(()=>[...e[21]||(e[21]=[t("span",{class:"text-bg"},"取消",-1)])]),_:1}),n(P,{type:"success",onClick:U,size:"large"},{default:r(()=>[...e[22]||(e[22]=[G("提交",-1)])]),_:1})]),default:r(()=>[e[23]||(e[23]=t("span",{class:"h10"},"剧本名称",-1)),n(I0,{modelValue:o(s).title,"onUpdate:modelValue":e[11]||(e[11]=a=>o(s).title=a),placeholder:"请输入剧本标题",size:"large",class:"input-title"},null,8,["modelValue"]),e[24]||(e[24]=t("span",{class:"h10"},"剧本封面",-1)),n(i0,{ref_key:"uploadCoverRef",ref:B,class:"input-upload flex-1",drag:"",data:{dir_name:"drama/cover",dir_title:"剧本封面"},action:o(M).getCompleteUrl("app/shortplay/api/Uploads/upload"),"before-upload":o0,headers:o(M).getHeaders(),accept:"image/jpeg,image/png",limit:1,type:"cover","on-success":l0,"show-file-list":!1,"on-error":s0},{default:r(()=>[o(T).url?(i(),v(P0,{key:1,src:o(T).url,class:"image-cover",fit:"contain"},null,8,["src"])):(i(),m($,{key:0},[n(_,{class:"el-icon--upload"},{default:r(()=>[n(i1)]),_:1}),e[18]||(e[18]=t("div",{class:"el-upload__text"},[t("span",{class:"h10"},"拖拽剧本封面到此处或"),t("span",{class:"h10"},"点击上传")],-1)),e[19]||(e[19]=t("div",{class:"el-upload__text"},[t("span",{class:"h10"},"支持上传格式："),t("span",{class:"h10"},"PNG, JPG, JPEG")],-1)),e[20]||(e[20]=t("div",{class:"el-upload__text"},[t("span",{class:"h10"},"封面比例："),t("span",{class:"h10"},"4:3")],-1))],64))]),_:1},8,["action","headers"])]),_:1},8,["modelValue"]),n(d0,{modelValue:o(F),"onUpdate:modelValue":e[15]||(e[15]=a=>p0(F)?F.value=a:null),class:"drama-dialog",draggable:""},{header:r(()=>[...e[25]||(e[25]=[t("span",{class:"font-weight-600"},"导入本地文件",-1)])]),footer:r(()=>[n(P,{type:"info",onClick:e[14]||(e[14]=a=>F.value=!1),size:"large",color:"#F9F9F9"},{default:r(()=>[...e[29]||(e[29]=[t("span",{class:"text-bg"},"取消",-1)])]),_:1}),n(P,{type:"success",onClick:U,size:"large"},{default:r(()=>[...e[30]||(e[30]=[G("提交",-1)])]),_:1})]),default:r(()=>[n(i0,{ref_key:"uploadRef",ref:R,class:"input-upload flex-1",drag:"",data:{dir_name:"drama/content",dir_title:"剧本"},action:o(M).getCompleteUrl("app/shortplay/api/Uploads/upload"),"before-upload":o0,headers:o(M).getHeaders(),accept:".docx,.txt,.excel",limit:1,"on-success":l0,"show-file-list":!1,"on-error":s0},{default:r(()=>[o(z).url?(i(),m("div",n6,[t("span",r6,f(o(z).filename),1),n(D0,{type:"info"},{default:r(()=>[G(f(o(g1)(o(z).size)),1)]),_:1})])):(i(),v(_,{key:0,class:"el-icon--upload",color:"var(--el-color-success)"},{default:r(()=>[n(P1)]),_:1})),e[26]||(e[26]=t("div",{class:"el-upload__text"},[t("span",{class:"h10 text-success"},"拖拽文件到此处或点击上传")],-1)),e[27]||(e[27]=t("div",{class:"el-upload__text"},[t("span",{class:"h10"},"支持上传格式："),t("span",{class:"h10"},"DOCX, TXT,EXCEL")],-1)),e[28]||(e[28]=t("div",{class:"el-upload__text"},[t("span",{class:"h10"},"限制说明："),t("span",{class:"h10"},"单个文件不超过 10MB 或 20页（以先达到者为准）")],-1))]),_:1},8,["action","headers"])]),_:1},8,["modelValue"])])}}}),x6=V(i6,[["__scopeId","data-v-170c02f1"]]);export{x6 as default};
